<!DOCTYPE html>
<html>
<head>
	<title>$parse() 解析AngularJS表达式</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="../../css/main.css">
	<script type="text/javascript" src="../../js/angular-1.4.6.js"></script>
</head>
<body>
<div class="home"><a href="../../index.html">首页</a></div>

<div class="aTitle"></div>
<div class="aPane">
  <div class="aCode">
    <pre>
&lt;div id="app1" ng-controller="ctrl1"&gt;
  请输入angularJS表达式:
  &lt;input type="text" ng-model="expr"&gt;
  &lt;h2&gt;{{parsedValue}}&lt;/h2&gt;
&lt;/div&gt;

<b>脚本：</b>
var app1 = angular.module("app1",[]);
app1.controller("ctrl1",function($scope,$parse){
  $scope.$watch("expr",function(newVal,oldVal,scope){
    if (newVal !== oldVal) {
      // 用该表达式设置parseFun
      <mark>var parseFun = $parse(newVal);</mark>
      // 获取经过解析后表达式的值
      <mark>$scope.parsedValue = parseFun(scope);</mark>
    }
  });
});
angular.bootstrap(document.getElementById("app1"), ['app1']);
    </pre>
  </div>
  <div class="aShow">
    <div id="app1" ng-controller="ctrl1">
      请输入angularJS表达式:
      <input type="text" ng-model="expr">
      <h2>{{parsedValue}}</h2>
    </div>
  </div>
</div>
<script type="text/javascript">
var app1 = angular.module("app1",[]);
app1.controller("ctrl1",function($scope,$parse){
  $scope.$watch("expr",function(newVal,oldVal,scope){
    if (newVal !== oldVal) {
      // 用该表达式设置parseFun
      var parseFun = $parse(newVal);
      // 获取经过解析后表达式的值
      $scope.parsedValue = parseFun(scope);
    }
  });
});
angular.bootstrap(document.getElementById("app1"), ['app1']);
</script>


</script>
</body>
</html>