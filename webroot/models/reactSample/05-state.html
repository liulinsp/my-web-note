<!DOCTYPE html>
<html>
<head>
	<title>react 状态</title>
	<link rel="stylesheet" type="text/css" href="../../css/main.css">
	<script type="text/javascript" src="../../js/react-15.0.1.js"></script>
	<script type="text/javascript" src="../../js/react-dom-15.0.1.js"></script>
	<script type="text/javascript" src="../../js/browser.min.js"></script>
	<meta charset="utf-8">
</head>
<body>
<div class="home"><a href="../../index.html">首页</a></div>


<div class="aTitle">含状态的组件</div>
<div class="aPane">
	<div class="aCode">
		<pre class="note">
<b>页面：</b>
&lt;div id="example"&gt;&lt;/div&gt;

<b>脚本：</b>
class Clock extends React.Component{
	constructor(props){
		super(props);
		<mark>this.state={time:new Date()};</mark>
	}
	render(){
		return &lt;h1&gt;北京时间：{this.state.time.toLocaleTimeString()}&lt;/h1&gt;
	}
	tick(){
		<mark>this.setState({
	      time: new Date()
	    });</mark>
	}
	componentDidMount(){
		this.timmer = setInterval(()=&gt;this.tick(),1000);
	}
	componentWillUnmount(){
		clearInterval(this.timmer);
	}
}

ReactDOM.render(
	&lt;Clock/&gt;,
	document.getElementById('example')
);
		</pre>
	</div>
	<div class="aShow note">
		<div id="example"></div>
	</div>
</div>
<script type="text/babel">
class Clock extends React.Component{
	constructor(props){
		super(props);
		this.state={time:new Date()};
	}
	render(){
		return <h1>北京时间：{this.state.time.toLocaleTimeString()}</h1>
	}
	tick(){
		this.setState({
	      time: new Date()
	    });
	}
	componentDidMount(){
		this.timmer = setInterval(()=>this.tick(),1000);
	}
	componentWillUnmount(){
		clearInterval(this.timmer);
	}
}

ReactDOM.render(
	<Clock/>,
	document.getElementById('example')
);
</script>
</body>
</html>