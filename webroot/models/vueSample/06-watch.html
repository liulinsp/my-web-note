<!DOCTYPE html>
<html>
<head>
	<title>vue观察</title>
	<link rel="stylesheet" type="text/css" href="../../css/main.css">
	<script type="text/javascript" src="../../js/vue.js"></script>
	<meta charset="utf-8">
</head>
<body>
<div class="home"><a href="../../index.html">首页</a></div>


<div class="aTitle">观察</div>
<div class="aPane">
	<div class="aCode">
		<pre class="note">
<b>页面：</b>
&lt;div id="app1"&gt;
	账户：&lt;input type="text" v-model="userName"&gt;
	&lt;div v-if="isExist" style="color:red"&gt;该账户已存在&lt;/div&gt;
&lt;/div&gt;

<b>脚本：</b>
var app1 = new Vue({
	el:"#app1",
	data:{
		isExist:false,
		userName:""
	},
	watch:{
		userName:function(newVal){
			this.isExist = checkUserNameExist(newVal);
			console.log("watch userName newVal=",newVal);
		}
	}
});

//模拟进行后台请求，判断用户是否已存在
function checkUserNameExist(userName){
	if(userName=="liulin"){
		return false;
	}else{
		return true;
	}
}
		</pre>
	</div>
	<div class="aShow">
		<div id="app1">
			账户：<input type="text" v-model="userName">
			<div v-if="isExist" style="color:red">该账户已存在</div>
		</div>
	</div>
</div>
<script type="text/javascript">
var app1 = new Vue({
	el:"#app1",
	data:{
		isExist:false,
		userName:""
	},
	watch:{
		userName:function(newVal){
			this.isExist = checkUserNameExist(newVal);
			console.log("watch userName newVal=",newVal);
		}
	}
});

//模拟进行后台请求，判断用户是否已存在
function checkUserNameExist(userName){
	if(userName=="liulin"){
		return false;
	}else{
		return true;
	}
}
</script>

</body>
</html>