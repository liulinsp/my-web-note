<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>测试ajax</title>
    <script type="text/javascript">
      // 通过ajax的方式获取数据
        function ajaxGet(){
            var obj = eval('({"name":"Tom", "age":26})');
            alert(obj.name);
            // 1.创建XMLHttpRequest对象
            var request = new XMLHttpRequest();

            // 2. 设置请求地址、请求类型和是否同步
            var url = "context/test.json";
            var method = "POST";
            var async = true;

            // 3. 设置当 readyState 属性改变，调用的方法
            request.onreadystatechange = function(){
                if(request.readyState == 4){
                    if(request.status == 200 || request.status == 304){
                        alert(request.responseText);
                    }
                }
            };

            // 4. 规定请求的类型、URL 以及是否异步处理请求
            request.open(method, url, async);

            // 5. 设置请求头
            request.setRequestHeader("Content-Type","application/json");

            // 6. 发送请求
            request.send('{"userid":"123"}');

            //return false;
        }

        window.onload=function(){
            document.getElementById("lnkAjaxComtext").setAttribute("href","javascript:ajaxGet()");
        };
    </script>
</head>
<body>
<a id="lnkAjaxComtext" href="#">内容</a>
</body>
</html>
